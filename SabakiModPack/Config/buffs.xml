<configs>
	<append xpath="/buffs">
		<buff name="SabakiBuffShock" description_key="SabakiBuffShockDesc" tooltip_key="SabakiBuffShockTooltip" icon="ui_game_symbol_electric_power" name_key="SabakiBuffShockName" icon_color="255,0,0">
			<damage_type value="electrical"/>
			<stack_type value="duration"/>
			<duration value="10"/>
			<update_rate value="1"/>
			<display_value value="$SabakiShockDisplay"/>
			<display_value_format value="time"/>
			<effect_group>
				<passive_effect name="BuffBlink" operation="base_set" value="2" duration="0,6" tags="SabakiBuffShock"/>
				<triggered_effect trigger="onSelfBuffStart" action="GetBuffDuration" reference="$SabakiShockDurationMax"/>
				<triggered_effect trigger="onSelfBuffStart" action="GetBuffDuration" reference="$SabakiShockDisplay"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$SabakiShockDisplay" operation="set" value="10">
					<requirement name="CVarCompare" cvar="$SabakiShockDisplay" operation="LTE" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffStack" action="GetBuffDuration" reference="$SabakiShockDisplay"/>
				<passive_effect name="HealthChangeOT" operation="base_add" value="-70"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SabakiShockDisplay" operation="add" value="-1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar="$SabakiShockDisplay"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_shock" parent_transform="Spine1" local_offset="0,-.2,0"/>
				<triggered_effect trigger="onSelfEnteredGame" action="AttachParticleEffectToEntity" particle="p_electric_shock" parent_transform="Spine1" local_offset="0,-.2,0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffFinish" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar="ETrapHit"/>
				<triggered_effect trigger="onSelfLeaveGame" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="electric_fence_impact"/>
				<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="electric_fence_impact"/>
				<triggered_effect trigger="onSelfLeaveGame" action="StopSound" sound="electric_fence_impact"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$SabakiShockDurationMax" operation="GTE" value="10"/>
				<passive_effect name="RunSpeed" operation="perc_subtract" value="1,.01" duration="0,10"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value="1,.01" duration="0,10"/>
				<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1,.01" duration="0,10"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value="1,.01" duration="0,10"/>
			</effect_group>
		</buff>
	</append>
</configs>